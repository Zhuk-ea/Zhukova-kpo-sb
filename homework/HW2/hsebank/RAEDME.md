# Отчёт по домашнему заданию №2
## Модуль "Учет финансов" для ВШЭ-Банк

### Общая идея решения

Разработан модуль финансового учета для банковского приложения, включающий следующий функционал:

**Основная функциональность:**
- Управление банковскими счетами (создание, просмотр, поиск, удаление)
- Управление категориями доходов/расходов
- Управление финансовыми операциями (доходы/расходы)
- Автоматический пересчет баланса счетов при операциях

**Дополнительная функциональность:**
- Финансовая аналитика (общие доходы, расходы, чистый баланс)
- Импорт/экспорт данных в форматах JSON, CSV, YAML
- Демонстрация работы паттернов проектирования
- Система отмены операций (undo)
- Логирование и измерение времени выполнения операций

### Реализованные принципы SOLID и GRASP

#### SOLID принципы:

1. **SRP (Single Responsibility Principle)**
   - `BankAccountRepository`, `CategoryRepository`, `OperationRepository` - отвечают только за хранение данных
   - `BankAccountFacade`, `CategoryFacade`, `OperationFacade` - отвечают только за бизнес-логику
   - `BankAccountFactory`, `CategoryFactory`, `OperationFactory` - отвечают только за создание объектов

2. **OCP (Open-Closed Principle)**
   - `ExportVisitor` и его реализации позволяют добавлять новые форматы экспорта без изменения существующего кода
   - `Command` интерфейс позволяет добавлять новые команды без изменения системы

3. **LSP (Liskov Substitution Principle)**
   - Все декораторы (`LoggingDecorator`, `TimingDecorator`, `RetryDecorator`) могут заменять базовые команды
   - Все репозитории реализуют общий интерфейс `Repository`

4. **ISP (Interface Segregation Principle)**
   - `Repository`, `Facade`, `Command` - узкоспециализированные интерфейсы
   - `ExportVisitor` содержит только методы для конкретных типов данных

5. **DIP (Dependency Inversion Principle)**
   - `DiContainer` инвертирует зависимости между компонентами
   - Фасады зависят от абстракций (интерфейсов), а не от конкретных реализаций

#### GRASP принципы:

1. **High Cohesion**
   - Каждый класс имеет четкую зону ответственности
   - Фасады группируют логически связанные методы
   - Репозитории содержат только методы работы с данными

2. **Low Coupling**
   - `DiContainer` уменьшает связанность между компонентами
   - Интерфейсы позволяют заменять реализации без изменения клиентского кода
   - Фасады предоставляют упрощенный интерфейс к сложной системе

### Реализованные паттерны GoF

#### Порождающие паттерны:

1. **Фабрика (Factory)**
   - `BankAccountFactory`, `CategoryFactory`, `OperationFactory`
   - **Важность**: Централизованное создание объектов с валидацией, предотвращение дублирования кода
   - **Классы**: `hsebank.factory` пакет

2. **DI-Контейнер (Dependency Injection)**
   - `DiContainer`
   - **Важность**: Управление зависимостями, уменьшение связанности, упрощение тестирования
   - **Классы**: `hsebank.di.DiContainer`

#### Структурные паттерны:

3. **Фасад (Facade)**
   - `BankAccountFacade`, `CategoryFacade`, `OperationFacade`, `FinanceFacade`
   - **Важность**: Упрощение сложной системы, предоставление единого интерфейса
   - **Классы**: `hsebank.facades` пакет

4. **Декоратор (Decorator)**
   - `LoggingDecorator`, `TimingDecorator`, `RetryDecorator`
   - **Важность**: Динамическое добавление функциональности без изменения базовых классов
   - **Классы**: `hsebank.decorator` пакет

5. **Посетитель (Visitor)**
   - `ExportVisitor`, `JsonExportVisitor`, `CsvExportVisitor`, `YamlExportVisitor`
   - **Важность**: Разделение алгоритмов от структуры объектов, добавление новых операций
   - **Классы**: `hsebank.export` пакет

#### Поведенческие паттерны:

6. **Команда (Command)**
   - `Command` интерфейс и реализации команд
   - **Важность**: Инкапсуляция запросов как объектов, поддержка отмены операций
   - **Классы**: `hsebank.command` пакет, `hsebank.interfaces.Command`

7. **Шаблонный метод (Template Method)**
   - `DataImporter` и его наследники
   - **Важность**: Определение скелета алгоритма с возможностью переопределения шагов
   - **Классы**: `hsebank.imports.DataImporter`

### Инструкция по запуску

#### Требования:
- Java 17 или выше
- Gradle

#### Сборка и запуск:
**Сборка проекта:**
   ```bash
   ./gradlew build
   ```
**Запуск консольного приложения:**
   ```bash
   java -jar build/libs/hsebank-0.0.0.jar
   ```
